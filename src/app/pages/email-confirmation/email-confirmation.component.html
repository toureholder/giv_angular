<div class="app-page-wrapper">
  <div
    class="component-loading-state component-container"
    data-test="loading-state"
    *ngIf="!emailConfirmation && !emailConfirmationError"
  >
    <h2>{{ 'email_confirmation_loading_state_title' | translate }}</h2>

    <div class="component-spacer"></div>

    <app-loading-spinner></app-loading-spinner>

    <div class="component-spacer"></div>

    <p>{{ 'email_confirmation_loading_state_message' | translate }}</p>
  </div>

  <div
    class="component-success-state component-container"
    data-test="success-state"
    *ngIf="emailConfirmation"
  >
    <h2>{{ 'email_confirmation_success_state_title' | translate }}</h2>

    <div class="component-spacer"></div>

    <span class="material-icons"> check_circle </span>

    <div class="component-spacer"></div>

    <p>
      {{ 'common_thank_you' | translate }}
      {{ emailConfirmation?.user?.name }}!
    </p>

    <p>
      {{ 'email_confirmation_success_state_message' | translate }}
    </p>
  </div>

  <div
    class="component-error-state component-container"
    data-test="error-state"
    *ngIf="emailConfirmationError"
  >
    <h2>{{ 'email_confirmation_error_state_title' | translate }}</h2>

    <div class="component-spacer"></div>

    <span class="material-icons"> sentiment_very_dissatisfied </span>

    <div class="component-small-spacer"></div>

    <p>{{ 'email_confirmation_error_state_message' | translate }}</p>

    <app-user-support-link
      [questionText]="'email_confirmation_error_state_need_help' | translate"
      [linkText]="'shared_talk_to_us' | translate"
      [supportMessageText]="
        'email_confirmation_error_request_assistance_message'
          | translate: { value: email }
      "
    ></app-user-support-link>
  </div>
</div>
